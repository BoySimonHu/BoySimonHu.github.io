---
title: CocoaPodsçš„å®‰è£…å’Œä½¿ç”¨ï¼ˆå¿ƒå¾—ï¼‰
date: 2017-06-07 22:18:37
tags: CocoaPodsç›¸å…³
---
`ä¸Šå‘¨äº”ç”±äºŽé¡¹ç›®éœ€è¦ï¼Œæˆ‘æŠŠä¸€ä¸ªæœ‰Podsé¡¹ç›®æ”¹äº†åï¼Œå¯æ¨çš„æ˜¯ç”µè„‘ä¸Šçš„CocoaPodsæŒ‚æŽ‰äº†ï¼Œå…¬å¸ç½‘å·®ã€‚åªå¥½å‘¨æœ«çš„æ—¶å€™åœ¨å®¶å¥‹æ–—äº†ä¸€ä¸‹ï¼ŒåŠŸå¤«ä¸è´Ÿæœ‰å¿ƒäººï¼Œæœ€åŽæ˜¯è¢«æˆ‘æžå¥½äº†ï¼Œç”±äºŽå‡ºçŽ°äº†å¥½å¤šé—®é¢˜ï¼Œæ‰€ä»¥åœ¨è¿™æŠŠè‡ªå·±çš„å®‰è£…å¿ƒå¾—è¯´ä¸€ä¸‹ï¼Œä»…ä¾›å¤§å®¶å‚è€ƒï¼`
### CocoaPodsç®€ä»‹ï¼š
 CocoaPodsæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå®ƒè´Ÿè´£ç®¡ç†iOSé¡¹ç›®ä¸­ç¬¬ä¸‰æ–¹å¼€æºåº“çš„å·¥å…·ï¼Œå®ƒçš„é¡¹ç›®æºç éƒ½åœ¨Githubä¸Šç®¡ç†çš„ï¼Œé‚£ä¹ˆé—®é¢˜åˆæ¥äº†ï¼ŒGithubæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ(### è¢«æ‰”è¥¿çº¢æŸ¿)ï¼Œå’³å’³~è¿™ä¸ªæˆ‘å°±ä¸åœ¨è¿™åºŸè¯äº†ã€‚æˆ‘ä»¬å¼€å‘iOSé¡¹ç›®æ—¶ä¸å¯é¿å…åœ°è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹å¼€æºåº“ï¼ˆçŽ°åœ¨ç¬¬ä¸‰æ–¹å¼€æºåº“çš„ä½¿ç”¨çŽ‡æ¯”å‰äº›å¹´æ›´å¤šäº†ï¼Œå»ºè®®å¤§å®¶åœ¨å…è®¸çš„æ¡ä»¶ä¸‹  æœ€å¥½æ˜¯èƒ½å¤Ÿè‡ªå·±é€ äº›è½®å­ï¼‰ï¼ŒCocoaPodsçš„å‡ºçŽ°ä½¿å¾—æˆ‘ä»¬å¯ä»¥èŠ‚           çœé…ç½®å’Œæ›´æ–°ç¬¬ä¸‰æ–¹å¼€æºåº“çš„æ—¶é—´å’Œç²¾åŠ›ã€‚
###å®‰è£…å‰å¥
é¦–å…ˆè¦æä¸€ä¸‹CocoaPodsçš„å®‰è£…é¡ºåº:
```
Xcode -> homebrew -> RVM -> Ruby -> CocoaPods
```
- Xcodeä¸ç”¨è¯´ã€‚ã€‚å¤§å®¶ä¹Ÿæ²¡æœ‰ä¸çŸ¥é“çš„ã€‚
- homebrewæ˜¯ä»€ä¹ˆï¼ŸæŽ¥è§¦è¿‡Linuxçš„åŒå­¦åº”è¯¥æŒºç†Ÿæ‚‰yumçš„ï¼Œæ²¡é”™ï¼Œhomebrewå°±æ˜¯OSçš„yumï¼Œä¸€æ¬¾è½¯ä»¶ç®¡ç†å·¥å…·ã€‚
- RVM  å®ƒçš„å…¨ç¨‹æ˜¯Ruby Version Managerï¼Œå¤§å®¶çœ‹åå­—ä¹Ÿåº”è¯¥å¯ä»¥äº†è§£åˆ°ï¼Œè¿™æ˜¯ä¸€æ¬¾å‘½ä»¤è¡Œç®¡ç†å·¥å…·ï¼Œèƒ½å¤Ÿè½»æ¾çš„ç®¡ç†Rubyçš„ç‰ˆæœ¬ã€‚
- Ruby è¿™æ˜¯ä¸€æ¬¾ä¸“é—¨ä¸ºé¢å‘è®¾è®¡ç¼–ç¨‹åˆ¶ä½œçš„è„šæœ¬è¯­è¨€ï¼Œç®€å•æ˜“ç”¨ï¼ŒåŠŸèƒ½å¼ºå¤§ã€‚

å…³äºŽè¿™å‡ ä¸ªå·¥å…·çš„å®‰è£…æˆ‘å°±ä¸åœ¨è¿™ç¯‡æ–‡ç« ä¸­èµ˜è¿°äº†ï¼Œæœ‰éœ€è¦çš„æˆ‘å†ä¸“é—¨å†™ä¸€ç¯‡å…³äºŽä»–ä»¬çš„å®‰è£…ã€‚
###å®‰è£…æ­£å¼å¼€å§‹
- é¦–å…ˆä½¿ç”¨Rubyçš„gemå‘½ä»¤æ¥è¿›è¡Œå®‰è£…
```
$ sudo gem install cocoapods
$ pod setup
```
æ•²å®Œè¿™äº›ä»¥åŽï¼Œä½ ä¼šçªç„¶å‘çŽ°ï¼Œå¡ä½äº†ã€‚æ­å–œä½ ï¼Œä½“éªŒäº†ä¸€æŠŠè¢«â€œå¢™â€çš„æ„Ÿè§‰ã€‚è¿™æ˜¯å› ä¸ºRubyçš„æºï¼ˆå®‰è£…æºï¼‰`https://rubygems.org/`æ˜¯äºšé©¬é€Šçš„äº‘æœåŠ¡ï¼ˆè¿™ä¸ªè¯´çœŸçš„æˆ‘æ˜¯ä¹‹å‰åœ¨å”å·§å¤§ç¥žçš„åšå®¢ä¸­äº†è§£åˆ°çš„ï¼‰ï¼Œè¿™ä¸ªæ—¶å€™å¤§éƒ¨åˆ†çš„æ•™ç¨‹éƒ½ä¼šå«ä½ æ¢æˆæ·˜å®çš„æº`æ·˜å®çš„æº:https://ruby.taobao.org/`ï¼Œä¸è¿‡........

![æ·˜å®Rubyæºç½‘ç«™æˆªå›¾](http://upload-images.jianshu.io/upload_images/2540460-310176d63557b3a5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
æ²¡é”™ï¼Œåœæ­¢ç»´æŠ¤äº†ï¼Œæ›´å…·æ·˜å®æºä¸Šçš„æç¤ºï¼ŒçŽ°åœ¨æºåº”è¯¥ä½¿ç”¨`http://gems.ruby-china.org/`è¿™ä¸ªã€‚
å¥½çš„é—®é¢˜ï¼Œè§£å†³äº†ï¼Œé‚£ä¹ˆè®©æˆ‘ä»¬æ¢ä¸€ä¸‹rubyçš„æºå§
```
gem sources --remove https://rubygems.org/                 //åˆ é™¤
gem sources -a http://gems.ruby-china.org/
gem sources -l
```
ä½ ä¼šå‘çŽ°æ–°çš„rubyæºå·²ç»å®‰è£…å®Œæ¯•ï¼Œå®Œç¾Ž~
- ç»§ç»­`pod setup`å‘½ä»¤ï¼Œè¿™ä¸ªæ—¶å€™ç»ˆç«¯ä¼šå‡ºçŽ°`Setting up CocoaPods master repo`ï¼Œè¿™ä¸ªæ­¥éª¤ Cocoapods ä¼šå°†å®ƒçš„ä¿¡æ¯ä¸‹è½½åˆ°Macçš„`Â ~/.cocoapods`ç›®å½•ä¸‹ï¼Œç„¶åŽæ¼«é•¿çš„ç­‰å¾…æ¥äº†~~~ï¼ˆè¡¨ç¤ºæ¥¼ä¸»åœ¨è¿™ä¸ªé˜¶æ®µè¿‡ä¸€ä¼šå°±é¢„è§ˆä¸€ä¸‹~/.cocoapods/repos/masterçš„å¤§å°ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥cdåˆ°ç›®å½•ä¸‹ç”¨`du -sh *`å‘½ä»¤æŸ¥çœ‹è¿›åº¦ï¼Œé€Ÿåº¦æŒºå¿«ï¼Œä¸€åˆ†é’Ÿèƒ½èµ°1MBäº†å‘¢>_<|||Â ï¼‰ã€‚
####ä½¿ç”¨ CocoaPods çš„é•œåƒç´¢å¼•
æ˜¯ä¸æ˜¯ç­‰ä¸ä¸‹åŽ»äº†ï¼Ÿå¥½å§ï¼Œå‘Šè¯‰ä¸€ä¸ªå¯ä»¥æé«˜ä¸‹è½½é€Ÿåº¦çš„æ–¹æ³•ï¼Œé‚£å°±æ˜¯ä½¿ç”¨CocoaPodsçš„é•œåƒç´¢å¼•ã€‚
æ‰€æœ‰çš„é¡¹ç›®çš„ `Podspec` æ–‡ä»¶éƒ½æ‰˜ç®¡åœ¨`https://github.com/CocoaPods/Specs`ï¼Œç¬¬ä¸€æ¬¡æ‰§è¡Œ`pod setup`æ—¶ï¼ŒCocoaPods ä¼šå°†è¿™äº›`podspec`ç´¢å¼•æ–‡ä»¶æ›´æ–°åˆ°æœ¬åœ°çš„Â `~/.cocoapods/`ç›®å½•ä¸‹.
ä¸€ä¸ªå«Â [akinliu](http://akinliu.github.io/2014/05/03/cocoapods-specs-/)Â çš„æœ‹å‹åœ¨Â [gitcafe](http://gitcafe.com/)Â å’ŒÂ [oschina](http://www.oschina.net/)Â ä¸Šå»ºç«‹äº† CocoaPods ç´¢å¼•åº“çš„é•œåƒï¼Œå› ä¸º `gitcafe` å’Œ `oschina`çš„æœåŠ¡å™¨éƒ½æ˜¯åœ¨å›½å†…ï¼Œæ‰€ä»¥åœ¨æ‰§è¡Œç´¢å¼•æ›´æ–°æ“ä½œæ—¶ï¼Œä¼šå¿«äº†å¥½å¤šã€‚å¦‚ä¸‹æ“ä½œå¯ä»¥å°† CocoaPods è®¾ç½®æˆä½¿ç”¨ `gitcafe` é•œåƒï¼š
```
pod repo remove masterpod repo add master https://gitcafe.com/akuandev/Specs.gitpod repo update
```
ä½¿ç”¨ `oschina` é•œåƒï¼š
```
pod repo remove masterpod repo add master http://git.oschina.net/akuandev/Specs.git
```
###CocoaPodsä½¿ç”¨
å®‰è£…å®ŒæˆåŽï¼Œæˆ‘ä»¬å°±å¯ä»¥å®‰å¿ƒçš„æ¥ä½¿ç”¨CocoaPodsäº†
- ä½¿ç”¨CocoaPodsæœ‰ä¸€ä¸ªå‰æï¼Œæ˜¯æˆ‘ä»¬çš„é¡¹ç›®ç›®å½•ä¸‹å¿…é¡»è¦æœ‰ä¸€ä¸ªProfileçš„æ–‡ä»¶ï¼Œé‚£è¿™ä¸ªæ–‡ä»¶è¦æ€Žä¹ˆåˆ›å»ºå‘¢ï¼š
```
cd ''é¡¹ç›®æ ¹ç›®å½•''
pod init
```
OKï¼Œæžå®šè¿™ä¸ªæ—¶å€™ä½¿ç”¨`vim Profile`å‘½ä»¤ç¼–è¾‘Profileé‡Œçš„å†…å®¹ï¼Œå°†ä¾èµ–åº“åå­—ä¾æ¬¡åˆ—åœ¨Profileä¸­ï¼Œæœ€ç»ˆæ ¼å¼å¦‚ä¸‹ï¼š

![Profileæœ€ç»ˆæ ¼å¼](http://upload-images.jianshu.io/upload_images/2540460-310a76a5f23350b7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
å…¶ä¸­`target 'Demo' do`å’Œ`#Pods for Demo`ä¸­çš„Demoæ˜¯æˆ‘çš„å·¥ç¨‹åã€‚
- åˆ°çŽ°åœ¨ä¸ºæ­¢ï¼Œä½ çš„Profileå°±å·²ç»é…ç½®å¥½äº†ï¼Œç„¶åŽæ‰§è¡Œï¼š
```
pod install
```
ç­‰å¾…å®ŒæˆåŽï¼Œä½ çš„ç¬¬ä¸‰æ–¹åº“å°±å·²ç»é…ç½®å¥½äº†ï¼Œæ‰“å¼€`*.xcworkspace`ï¼Œæ²¡é”™ï¼Œå†ä¹Ÿä¸æ˜¯`*.xcodeproj`æ–‡ä»¶äº†ã€‚
é“¾æŽ¥ä½ çš„è®¾å¤‡ï¼Œä½¿ç”¨é…ç½®å¥½çš„Podsï¼Œrunä¸€ä¸‹ä½ çš„ç¨‹åºå§~
- **Note:**  æ¯æ¬¡æ›´æ”¹äº† Podfile æ–‡ä»¶ï¼Œä½ éœ€è¦é‡æ–°æ‰§è¡Œä¸€æ¬¡`pod update`å‘½ä»¤ã€‚

### ä¸‰ä¸ªé‡è¦çš„çŸ¥è¯†ç‚¹
- å½“æ‰§è¡Œpod installä¹‹åŽï¼Œé™¤äº†Podfileï¼Œè¿˜ä¼šç”Ÿæˆä¸€ä¸ªåä¸º`Podfile.lock`çš„æ–‡ä»¶ï¼Œå®ƒä¼šé”å®šå½“å‰å„ä¾èµ–åº“çš„ç‰ˆæœ¬ï¼Œä¹‹åŽå³ä½¿å¤šæ¬¡æ‰§è¡Œ`pod install`ä¹Ÿä¸ä¼šæ›´æ”¹ç‰ˆæœ¬ï¼Œåªæœ‰æ‰§è¡Œ`pod update`æ‰ä¼šæ”¹å˜`Podfile.lock`.åœ¨å¤šäººåä½œçš„æ—¶å€™ï¼Œè¿™æ ·å¯ä»¥é˜²æ­¢ç¬¬ä¸‰æ–¹åº“å‡çº§æ—¶å€™é€ æˆå¤§å®¶å„è‡ªçš„ç¬¬ä¸‰æ–¹åº“ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œæ‰€ä»¥åœ¨å¾€SVNæäº¤ç‰ˆæœ¬çš„æ—¶å€™ä¸èƒ½æŠŠå®ƒè½ä¸‹ã€‚ï¼ˆä¸ªäººè®¤ä¸ºå¯ä»¥æŠŠå®ƒä»Žignoreåˆ—è¡¨ä¸­åˆ æŽ‰ï¼‰
- Podsé¡¹ç›®æœ€ç»ˆä¼šç¼–è¯‘æˆä¸€ä¸ªåä¸ºlibPods.açš„æ–‡ä»¶ï¼Œä¸»é¡¹ç›®åªéœ€è¦ä¾èµ–è¿™ä¸ª.aæ–‡ä»¶å³å¯ï¼Œè¿™ä¸ªæ–‡ä»¶ä¸€èˆ¬åœ¨é¡¹ç›®çš„frameworksæ–‡ä»¶å¤¹ä¸‹ã€‚
- CocoaPodsé€šè¿‡ä¸€ä¸ªåä¸ºPods.xcconfigçš„æ–‡ä»¶æ¥åœ¨ç¼–è¯‘æ—¶è®¾ç½®æ‰€æœ‰çš„ä¾èµ–å’Œå‚æ•°ã€‚
###ç»“è¯­
è¿™æ¬¡é‡å‘½åé¡¹ç›®è®©æˆ‘å¥½å¥½çš„ç ”ç©¶äº†ä¸€æŠŠCocoaPodsï¼Œæ¯•ç«Ÿä¹‹å‰éƒ½æ˜¯ç›´æŽ¥çœ‹æ•™ç¨‹æ•²å‘½ä»¤è¡ŒðŸ˜‚ã€‚ä¸è¿‡è¿˜æ˜¯è¦åæ§½ä¸€ä¸‹`pod setup`çš„ä¸‹è½½é€Ÿåº¦~~æ¥¼ä¸»è¡¨ç¤ºï¼Œéƒ½æ€ªä½ ~è®©æˆ‘è¿žè¾“äº†ä¸‰æŠŠæŽ’ä½ï¼ãƒ½(Ë‹Ð”ËŠ)ãƒŽãƒ½(Ë‹Ð”ËŠ)ãƒŽãƒ½(Ë‹Ð”ËŠ)ãƒŽ

### å…¶ä»–
[ç®€ä¹¦åœ°å€](https://www.jianshu.com/p/859bda28bd4c)